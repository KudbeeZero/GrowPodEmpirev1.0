#:schema node_modules/wrangler/config-schema.json
name = "growpod-empire-api"
main = "dist/index.cjs"
compatibility_date = "2026-01-30"
compatibility_flags = ["nodejs_compat"]

# Cloudflare Account ID
account_id = "b591c2e07ca352d33076f4d2f8414b89"

# Domain Code ID (for reference): YOUR_DOMAIN_CODE_ID

[observability]
enabled = true

# D1 Database Binding
# This will be bound to your worker and accessible via env.DB
[[d1_databases]]
binding = "DB"
database_name = "growpod-primary"
database_id = "712d926f-c396-473f-96d9-f0dfc3d1d069"

# Environment Variables (non-sensitive)
[vars]
NODE_ENV = "production"

# Secrets (sensitive data) should be set using:
# wrangler secret put VARIABLE_NAME
# Example secrets to configure:
# - DATABASE_URL (if using external PostgreSQL instead of D1)
# - ADMIN_WALLET_ADDRESS
# - Any API keys or sensitive credentials

# Build configuration
[build]
command = "npm run build"

# Assets configuration for static files
[assets]
directory = "./dist/public"
binding = "ASSETS"
